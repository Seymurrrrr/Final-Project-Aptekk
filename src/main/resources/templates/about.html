<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.w3.org/1999/xhtml"
      layout:decorate="~{layout}">
<head>
    <title>Pharma &mdash; Colorlib Template</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <style>
        .main-video-section {
            background: #f8f9fa;
            padding: 60px 0;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .video-container iframe,
        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 10px;
        }
    </style>
</head>

<body>
<div layout:fragment="content" class="bg-white p-0">

    <!-- Hero Section -->
    <div class="site-blocks-cover inner-page" style="background-image: url('images/hero_1.jpg');">
        <div class="container">
            <div class="row">
                <div class="col-lg-7 mx-auto align-self-center">
                    <div class="text-center">
                        <h1 th:text="${about?.title}">Haqqında</h1>
                        <p th:text="${about?.description}">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Video Section - İlk section-dan video -->
    <div class="main-video-section" data-aos="fade" th:if="${videoId}">
        <div class="container">
            <div class="row justify-content-center mb-5">
                <div class="col-md-7 site-section-heading text-center pt-4">
                    <h2>Bizim Video</h2>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-md-10">
                    <!-- YouTube Video -->
                    <div class="video-container" th:if="${isYouTube}">
                        <iframe
                                th:src="'https://www.youtube.com/embed/' + ${videoId}"
                                frameborder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen>
                        </iframe>
                    </div>

                    <!-- Local Video -->
                    <div class="video-container" th:if="${!isYouTube}">
                        <video controls>
                            <source th:src="${mainVideoUrl}" type="video/mp4">
                            Brauzeriniz video elementi dəstəkləmir.
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sections Loop - Hər section üçün ayrı-ayrı -->
    <div class="site-section bg-light custom-border-bottom" data-aos="fade"
         th:if="${about?.sections} and ${#lists.size(about.sections) > 0}">
        <div class="container">
            <div th:each="section, iterStat : ${about.sections}" class="row mb-5">
                <div th:class="${iterStat.index % 2==0} ? 'col-md-6' : 'col-md-5 order-md-2'">
                    <div class="block-16">

                        <figure>
                            <!-- Əgər section-da videoUrl varsa, play button göstər -->
                            <a th:if="${false}"
                               th:href="${section.videoUrl}"
                               class="play-button popup-vimeo">
                                <span class="icon-play"></span>v
                            </a>
                        </figure>
                    </div>
                </div>
                <div class="col-md-1"></div>
                <div class="col-md-5">
                    <div class="site-section-heading pt-3 mb-4">
                        <h2 th:utext="${section.title}" class="text-black">Section Title</h2>
                    </div>
                    <p th:utext="${section.description}">Section description</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Features Section -->
    <div class="site-section site-section-sm site-blocks-1 border-0" data-aos="fade">
        <div class="container">
            <div class="row">
                <div th:each="feature : ${features}" class="col-md-6 col-lg-4 d-lg-flex mb-4 mb-lg-0 pl-4"
                     data-aos="fade-up" data-aos-delay="">
                    <div class="icon mr-4 align-self-start">
                        <img th:src="${feature.icon}">
                    </div>
                    <div class="text">
                        <h2 th:text="${feature.title}">Free Shipping</h2>
                        <p th:text="${feature.description}">Lorem ipsum dolor sit amet.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Team Section -->
    <div class="site-section bg-light custom-border-bottom" data-aos="fade">
        <div class="container">
            <div class="row justify-content-center mb-5">
                <div class="col-md-7 site-section-heading text-center pt-4">
                    <h2>Komandamız</h2>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 col-lg-6 mb-5" th:each="team : ${teams}">
                    <div class="block-38 text-center">
                        <div class="block-38-img">
                            <div class="block-38-header">
                                <img th:src="${team.imageUrl}" alt="Team member" class="mb-4">
                                <h3 class="block-38-heading h4" th:text="${team.name}">Name</h3>
                                <p class="block-38-subheading" th:text="${team.position}">Position</p>
                            </div>
                            <div class="block-38-body">
                                <p th:text="${team.description}">Description</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>